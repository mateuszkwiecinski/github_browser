plugins {
    id("java-gradle-plugin")
    alias(libs.plugins.starter.library.kotlin)
}

repositories {
    google()
    gradlePluginPortal()
}

dependencies {
    implementation("org.jetbrains.kotlin:kotlin-gradle-plugin")
    implementation(gradleApi())
    implementation(libs.navigation.gradle)
    implementation(libs.apollo.gradle)
    implementation(libs.starter.android)
    implementation("com.android.tools.build:gradle:4.2.0")
}

kotlin {
    jvmToolchain(17)
}

gradlePlugin {
    plugins {
        androidLibPlugin {
            id = "library.android"
            implementationClass = "pl.mkwiecinski.plugins.LibraryPlugin"
        }
        kotlinLibPlugin {
            id = "library.kotlin"
            implementationClass = "pl.mkwiecinski.plugins.KotlinPlugin"
        }
        applicationPlugin {
            id = "app.android"
            implementationClass = "pl.mkwiecinski.plugins.ApplicationPlugin"
        }
    }
}
